solve segfault when ctrl+d
